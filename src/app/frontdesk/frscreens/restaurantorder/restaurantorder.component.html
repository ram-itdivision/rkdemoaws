<div class="content-body">
  <div class="container py-4">
    
    <div *ngIf="orderiteminfo" class="pos-receipt shadow-sm p-3 bg-white" id="print-area">
      <!-- Header Section -->
      <h4 class="text-center mb-2">TAX INVOICE</h4>
      <p class="text-center mb-1"><b>Digital Equipments</b></p>
      <p class="text-center mb-1 small">plot 142, kalamandir, kukatpally, hyderabad</p>

      <hr class="dashed" />

      <!-- Invoice Details -->
      <div class="d-flex justify-content-between small">
        <span>Invoice # {{ orderiteminfo.order_id }}</span>
        <span>25-09-2025 9:14 pm</span>
      </div>

      <!-- GSTIN and PAN -->
      <div class="d-flex justify-content-between small mb-1">
        <span>GSTIN: 36AHMPK2525L1ZP</span>
      </div>

      <hr class="dashed" />

      <!-- Order Items -->
      <div class="items-section">
        <div class="small mb-2" *ngFor="let item of orderiteminfo.order_details; let i = index">
          <div class="d-flex justify-content-between">
            <span class="item-name">
              {{ item.order_item }} 
              <span *ngIf="item.item_variant_name" class="text-muted">({{ item.item_variant_name }})</span>
              √ó{{ item.order_item_units }}
            </span>
            <span class="item-price">‚Çπ{{ (item.order_item_price * item.order_item_units).toFixed(2) }}</span>
          </div>
          <div class="d-flex justify-content-between text-muted" *ngIf="item.order_item_units > 1">
            <span class="small">{{ item.order_item_units }} √ó ‚Çπ{{ item.order_item_price.toFixed(2) }}</span>
          </div>
        </div>
      </div>

      <hr class="dashed" />

      <!-- Totals Section -->
      <div class="totals-section">
        <div class="d-flex justify-content-between small">
          <span>Sub Total</span>
          <span>‚Çπ{{ subtotal.toFixed(2) }}</span>
        </div>
        <div class="d-flex justify-content-between small">
          <span>CGST (2.5%)</span>
          <span>‚Çπ{{ cgst.toFixed(2) }}</span>
        </div>
        <div class="d-flex justify-content-between small">
          <span>SGST (2.5%)</span>
          <span>‚Çπ{{ sgst.toFixed(2) }}</span>
        </div>
      </div>

      <hr class="dashed" />

      <!-- Grand Total -->
      <div class="d-flex justify-content-between fw-bold">
        <span>Grand Total</span>
        <span>‚Çπ{{ grand_total.toFixed(2) }}</span>
      </div>

      <hr class="dashed" />

      <!-- Special Instructions -->
      <p *ngIf="orderiteminfo.special_instructions" class="small mb-2 special-instructions">
        <strong>Special Instructions:</strong> {{ orderiteminfo.special_instructions }}
      </p>

      

      <p class="text-center small mt-2 mb-0">Thank you for dining with us!</p>
      <p class="text-center small">Visit Again üôè</p>
    </div>

    <!-- Print Button (Hidden during print) -->
    <div class="text-center mt-3 no-print" *ngIf="orderiteminfo">
      <button class="btn btn-dark btn-sm" (click)="printReceipt()">
        <i class="fas fa-print"></i> Print Receipt
      </button>
    </div>

    <!-- No Order Message -->
    <div *ngIf="!orderiteminfo" class="text-center py-5">
      <p class="text-muted">No order information available</p>
    </div>

  </div>
</div>