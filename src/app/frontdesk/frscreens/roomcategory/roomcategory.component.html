<!-- Toggle between list and form -->
<div class="mb-3 text-end">
  <button *ngIf="!showForm" class="btn btn-primary text-end" (click)="showAddForm()">Add Category</button>
  <button *ngIf="showForm" class="btn btn-secondary text-end" (click)="showListView()">Back to List</button>
</div>

<!-- Form View -->
<div *ngIf="showForm">
  <div class="form-group mb-3">
    <label>Category Name:</label>
    <input class="form-control" [(ngModel)]="category_name">
  </div>

  <div class="form-group mb-3">
    <label>Category Image:</label>
    <input class="form-control" type="file" (change)="onImageChange($event)">
  </div>

  <div class="mb-3">
    <button class="btn btn-success" (click)="saveCategory()">
      {{ editingId ? 'Update' : 'Add' }} Category
    </button>
  </div>
</div>

<!-- List View -->
<div *ngIf="!showForm">
  <table datatable [dtOptions]="reservation_datatable" [dtTrigger]="dtTrigger" class="table table-bordered table-striped text-center">
    <thead>
      <tr>
        <th>Sno</th>
        <th>Category Name</th>
        <th>Image</th>
        <th>Created Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let x of floorList; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ x.location_category_name }}</td>
        <td><img width="80" src="http://localhost/newrsmguest/assets/location_category/2/{{x.location_category_image}}"></td>
        <td>{{ x.cat_created }}</td>
        <td>
          <button class="btn btn-warning btn-sm" (click)="editCategory(x)">Edit</button>
          <button class="btn btn-danger btn-sm" (click)="deleteCategory(x.location_category_id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
