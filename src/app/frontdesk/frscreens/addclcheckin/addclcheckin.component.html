<div class="content-body">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-10">
        <h4>Contactless Form</h4>
      </div>
      <div class="col-md-2 text-end">
        <a href="#/frontdesk/contactless"><button class="btn btn-primary text-white">List</button></a>
      </div>
    </div>

    <div class="card mb-4">
      <div class="card-header d-flex justify-content-between align-items-center"
        [ngClass]="{ 'bg-primary text-white': showGuestInfo }">
        <h4 class="card-title mb-0" [ngClass]="{ 'text-white': showGuestInfo }">Guest Information</h4>
        <span class="fs-4">{{ showGuestInfo ? '▲' : '▼' }}</span>
      </div>

      <div class="card-body" *ngIf="showGuestInfo">

        <form [formGroup]="guest_form" class="needs-validation" novalidate>
          <div class="row g-3">
            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Reservation Id</label>
              <input type="text" class="form-control" placeholder="Enter ReservationID" readonly
                formControlName="reservationid" />
            </div>
            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Booking Id </label>
              <input type="text" class="form-control" placeholder="Enter Booking ID" readonly
                formControlName="guestbooking_id" />
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">First Name <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Enter First Name"
                [ngClass]="getValidationClass('guest_name')" formControlName="guest_name" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('guest_name')?.touched && guest_form.get('guest_name')?.invalid">
                First Name is required
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Last Name <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Enter Last Name"
                [ngClass]="getValidationClass('guest_lastname')" formControlName="guest_lastname" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('guest_lastname')?.touched && guest_form.get('guest_lastname')?.invalid">
                Last Name is required
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Company Name <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Enter Company Name"
                [ngClass]="getValidationClass('companyname')" formControlName="companyname" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('companyname')?.touched && guest_form.get('companyname')?.invalid">
                Company Name is required
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Mobile No <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Enter Mobile No" maxlength="10"
                [ngClass]="getValidationClass('guest_mobile')" formControlName="guest_mobile" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('guest_mobile')?.touched && guest_form.get('guest_mobile')?.invalid">
                Mobile Number is required
              </div>
              <div class="text-danger small mt-1" *ngIf="guest_form.get('guest_mobile')?.errors?.['pattern']">
                Enter a valid 10-digit mobile number
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Email <sup class="text-danger">*</sup></label>
              <input type="email" class="form-control" placeholder="Enter Email"
                [ngClass]="getValidationClass('guest_email')" formControlName="guest_email" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('guest_email')?.touched && guest_form.get('guest_email')?.invalid">
                Email is required
              </div>
              <div class="text-danger small mt-1" *ngIf="guest_form.get('guest_email')?.errors?.['email']">
                Enter a valid email address
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Billing Info <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Enter Billing Info"
                [ngClass]="getValidationClass('billing_to')" formControlName="billing_to" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('billing_to')?.touched && guest_form.get('billing_to')?.invalid">
                Billing Info is required
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Nationality <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Ex: Indian"
                [ngClass]="getValidationClass('nationality')" formControlName="nationality" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('nationality')?.touched && guest_form.get('nationality')?.invalid">
                Nationality is required
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">Country <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Ex: India"
                [ngClass]="getValidationClass('guest_country')" formControlName="guest_country" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('guest_country')?.touched && guest_form.get('guest_country')?.invalid">
                Country is required
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">State <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Ex: Andhra Pradesh"
                [ngClass]="getValidationClass('guest_state')" formControlName="guest_state" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('guest_state')?.touched && guest_form.get('guest_state')?.invalid">
                State is required
              </div>
            </div>

            <div class="col-xl-3 col-xxl-6 col-md-6">
              <label class="form-label">City <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" placeholder="Ex: Kakinada"
                [ngClass]="getValidationClass('guest_city')" formControlName="guest_city" />
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('guest_city')?.touched && guest_form.get('guest_city')?.invalid">
                City is required
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label">Address <sup class="text-danger">*</sup></label>
              <textarea class="form-control" rows="2" placeholder="Full Address"
                [ngClass]="getValidationClass('address')" formControlName="address"></textarea>
              <div class="text-danger small mt-1"
                *ngIf="guest_form.get('address')?.touched && guest_form.get('address')?.invalid">
                Address is required
              </div>
            </div>

            <div class="col-md-2">&nbsp;</div>

            <div class="col-md-4 text-end">
              <button class="mt-2 btn btn-secondary text-white btn-sm" value="Save >>"
                (click)="savedetails()">Save</button> &nbsp;
              <button class="mt-2 btn btn-danger text-white btn-sm" value="Next >>" (click)="addGuest()">Next
                >></button>
            </div>
          </div>
        </form>
      </div>

      <div class="card-header d-flex justify-content-between align-items-center"
        [ngClass]="{ 'bg-primary text-white': showRoomInfo }">
        <h4 class="card-title mb-0" [ngClass]="{ 'text-white': showRoomInfo }">Booking Details</h4>
        <span class="fs-4">{{ showRoomInfo ? '▲' : '▼' }}</span>
      </div>



      <div class="card-body" *ngIf="showRoomInfo">
        <div [formGroup]="rooms_info_form">
          <div formArrayName="rooms">
            <div class="card mb-3 shadow-sm p-3" *ngFor="let room of rooms.controls; let i = index" [formGroupName]="i">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h5 class="text-primary">Room {{ i + 1 }}
                </h5>
                <button *ngIf="rooms.length > 1" (click)="removeRoom(i)" class="btn btn-sm btn-danger text-white">
                  <i class="fa fa-trash"></i>
                </button>
              </div>
              <div class="row g-3">

                <div class="col-md-2">
                  <label class="form-label">Arrival Date <sup class="text-danger">*</sup>
                  </label>
                  <input type="date" class="form-control" formControlName="checkin_date" [min]="today"
                    (input)="updateCheckoutDate(i); updateNoOfNights(i)"
                    [ngClass]="getRoomValidationClass(room, 'checkin_date')">

                  <div class="text-danger small mt-1"
                    *ngIf="room.get('checkin_date')?.touched && room.get('checkin_date')?.invalid">
                    Arrival Date is required
                  </div>
                </div>

                <div class="col-md-2">
                  <label class="form-label">Departure Date <sup class="text-danger">*</sup>
                  </label>
                  <input type="date" class="form-control" formControlName="checkout_date" [min]="tomorrow"
                    (input)="updateNoOfNights(i)" [ngClass]="getRoomValidationClass(room, 'checkout_date')">


                  <div class="text-danger small mt-1"
                    *ngIf="room.get('checkout_date')?.touched && room.get('checkout_date')?.invalid">
                    Departure Date is required
                  </div>
                </div>

                <div class="col-md-1">
                  <label class="form-label">No Of Nights <sup class="text-danger">*</sup>
                  </label>
                  <input type="number" class="form-control" formControlName="no_of_nights"
                    (input)="updateCheckoutDate(i)" [ngClass]="getRoomValidationClass(room, 'no_of_nights')">

                  <div class="text-danger small mt-1"
                    *ngIf="room.get('no_of_nights')?.touched && room.get('no_of_nights')?.invalid">
                    No Of Nights is required
                  </div>
                </div>
                
                <div class="col-md-1">
                  <label>Adult <sup class="text-danger">*</sup> </label>
                  <input formControlName="adults" class="form-control" [ngClass]="getRoomValidationClass(room, 'adults')" />
                  <div class="text-danger small mt-1" *ngIf="room.get('adults')?.touched && room.get('adults')?.invalid">
                    Adult is required
                  </div>
                </div>

                <div class="col-md-1">
                  <label>Children <sup class="text-danger">*</sup> </label>
                  <input formControlName="children" class="form-control"
                    [ngClass]="getRoomValidationClass(room, 'children')" />
                  <div class="text-danger small mt-1"
                    *ngIf="room.get('children')?.touched && room.get('children')?.invalid">
                    Children is required
                  </div>
                </div>
                <div class="col-md-2">
                  <label>Main Guest <sup class="text-danger">*</sup> </label>
                  <input formControlName="main_guest" class="form-control"
                    [ngClass]="getRoomValidationClass(room, 'main_guest')" />
                  <div class="text-danger small mt-1"
                    *ngIf="room.get('main_guest')?.touched && room.get('main_guest')?.invalid">
                    Main Guest is required
                  </div>
                </div>
                <div class="col-md-2">
                  <label class="form-label">Status <sup class="text-danger">*</sup>
                  </label>
                  <select class="form-control" name="booking_status" formControlName="booking_status">
                    <option value="">Choose...</option>
                    <option value="pending">Pending</option>
                    <option value="confirmed">Confirmed</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <label>Type <sup class="text-danger">*</sup> </label>
                  <select formControlName="type" class="form-control" [ngClass]="getRoomValidationClass(room, 'type')"
                    (change)="get_rooms_plan($event, i)">
                    <option value="">Select</option>
                    <option *ngFor="let x of room_category_list" [value]="x.location_category_id">
                      {{ x.location_category_name }}
                    </option>
                  </select>
                  <div class="text-danger small mt-1" *ngIf="room.get('type')?.touched && room.get('type')?.invalid">
                    Type is required
                  </div>
                </div>

                <div class="col-md-2">
                  <label> Plan <sup class="text-danger">*</sup> </label>
                  <select formControlName="plan" class="form-control" [ngClass]="getRoomValidationClass(room, 'plan')"
                    (change)="onPlanSelected($event, i)">
                    <option value="">Select</option>
                    <option class="text-danger" *ngIf="room_plan_list[i]?.length === 0" disabled>No plans found</option>
                    <option *ngFor="let x of room_plan_list[i]" [value]="x.planid">
                      {{ x.plan_name }}
                    </option>
                  </select>
                  <div class="text-danger small mt-1" *ngIf="room.get('plan')?.touched && room.get('plan')?.invalid">
                    Plann is required
                  </div>
                </div>

                <div class="col-md-2">
                  <label>Tariff <sup class="text-danger">*</sup> </label>
                  <input formControlName="price" class="form-control"
                    [ngClass]="getRoomValidationClass(room, 'price')" />
                  <div class="text-danger small mt-1" *ngIf="room.get('price')?.touched && room.get('price')?.invalid">
                    Price is required
                  </div>
                </div>
                <div class="col-md-2">
                  <label>GST <sup class="text-danger">*</sup> </label>
                  <input formControlName="gst" class="form-control" [ngClass]="getRoomValidationClass(room, 'gst')" />
                  <div class="text-danger small mt-1" *ngIf="room.get('gst')?.touched && room.get('gst')?.invalid">
                    Price is required
                  </div>
                </div>
                <div class="col-md-2">
                  <label>Total <sup class="text-danger">*</sup> </label>
                  <input formControlName="pricetotal" class="form-control"
                    [ngClass]="getRoomValidationClass(room, 'pricetotal')" />
                  <div class="text-danger small mt-1"
                    *ngIf="room.get('pricetotal')?.touched && room.get('pricetotal')?.invalid">
                    Price is required
                  </div>
                </div>

                <div class="col-md-2">
                  <label>Room No <sup class="text-danger">*</sup> </label>
                  <select formControlName="room_no" class="form-control"
                    [ngClass]="getRoomValidationClass(room, 'room_no')">
                    <option value="">Select</option>
                    <option class="text-danger" *ngIf="getAvailableRooms(i)?.length === 0" disabled>No Rooms found
                    </option>
                    <option *ngFor="let x of getAvailableRooms(i)" [value]="x.room_id">{{
                      x.room_name }}
                    </option>
                  </select>
                  <div class="text-danger small mt-1"
                    *ngIf="room.get('room_no')?.touched && room.get('room_no')?.invalid">
                    Room No is requiresd
                  </div>
                </div>

              </div>
            </div>
            <div class="row">
              <div class="col-md-2">

                <button type="button" class="btn btn-secondary btn-sm" (click)="addRoom()">+ Add
                  Room</button>
              </div>
              <div class="col-md-6">&nbsp;</div>
              <div class="col-md-4 text-end">

                <button class="btn btn-danger btn-sm text-end text-white" value="<< Previous"
                  (click)="previous_tab('guest')">
                  << Previous</button>
                    &nbsp;
                    <button class="btn btn-danger btn-sm text-end text-white" value="Next >>" (click)="addBooking()">
                      Next >></button>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="card-header d-flex justify-content-between align-items-center"
         [ngClass]="{ 'bg-primary text-white': showProofInfo }">
        <h4 class="card-title mb-0" [ngClass]="{ 'text-white': showProofInfo }">Identification Details</h4>
        <span class="fs-4">{{ showProofInfo ? '▲' : '▼' }}</span>
      </div>

      <div class="card-body" *ngIf="showProofInfo">

        <form [formGroup]="document_form" class="needs-validation" *ngIf="guest_documents.length === 0" novalidate>
          <div class="card mb-4">
            <div class="card-header">
              <h4 class="card-title mb-0">Upload Documents</h4>
            </div>
            <div class="card-body">
              <div class="row g-3">

                <!-- Documents Upload Section -->
                <div class="col-md-7">
                  <div class="row">
                    <div class="col-md-6" *ngFor="let control of documentsControls; let i = index">
                      <label>Guest {{ i + 1 }} Document (PDF/Image)</label>

                      <!-- Document Type Dropdown -->
                      <label class="form-label mt-1">Document Type</label>
                      <select class="form-select mb-2" required>
                        <option value="">Select Type</option>
                        <option value="Aadhar Card">Aadhar Card</option>
                        <option value="Driving Licence">Driving Licence</option>
                        <option value="Pan Card">Pan Card</option>
                        <option value="Voter ID">Voter ID</option>
                        <option value="Passport Number">Passport Number</option>
                      </select>

                      <!-- Document Number Input -->
                      <label class="form-label">Document Number</label>
                      <input type="text" class="form-control mb-2" required />
                      <input type="file" class="form-control" accept=".pdf,image/*"
                        (change)="onFileSelected($event, i)" />

                      <div *ngIf="imagePreviews[i]">
                        <img [src]="imagePreviews[i]" alt="Preview" class="img-fluid mt-2 rounded border"
                          style="max-height: 150px;" />
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Photo Upload Section -->
                <div class="col-md-5">
                  <div *ngIf="!photoCaptured">
                    <button class="btn btn-sm btn-warning mb-2" (click)="triggerWebcam()">Take Photo</button>
                    <button class="btn btn-sm btn-info mb-2 ms-2" (click)="fileInputPhoto.click()">Upload Photo</button>

                    <input #fileInputPhoto type="file" accept="image/*" hidden (change)="handlePhotoUpload($event)" />

                    <div *ngIf="showCamera" class="camera-box">
                      <video #video autoplay playsinline width="100%" height="240"></video>
                      <button class="btn btn-success mt-2" (click)="capturePhoto()">Capture</button>
                    </div>
                  </div>

                  <div *ngIf="photoCaptured">
                    <p>Captured Photo:</p>
                    <img [src]="capturedImage" class="img-thumbnail mb-2" />
                    <br />
                    <button class="btn btn-danger btn-sm" (click)="resetPhoto()">Retake</button>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </form>

        <div class="mt-4" *ngIf="guest_documents.length > 0">
  <h5 class="text-primary mb-3">
    <i class="bi bi-folder2-open me-2"></i> Guest Uploaded Documents
  </h5>

  <div class="row g-3">
    <div class="col-md-3" *ngFor="let doc of guest_documents">
      <div class="card h-100 shadow-sm border-0 rounded-3">
        <div class="card-body text-center p-2">
          
          <!-- Show image if it's an image -->
          <img 
            *ngIf="isImage(doc.guest_document)" 
            [src]="'https://rsmguest.com/guest/' + doc.guest_document" 
            class="img-fluid rounded mb-2"
            alt="Document preview"
            style="max-height: 150px; object-fit: cover;"
          />

          <!-- Fallback for non-image docs -->
          <div *ngIf="!isImage(doc.guest_document)" class="my-2">
            <i class="bi bi-file-earmark-text text-secondary" style="font-size: 2rem;"></i>
          </div>

          <!-- Link -->
          <a 
            [href]="'https://rsmguest.com/guest/' + doc.guest_document" 
            class="btn btn-outline-primary btn-sm w-100 mt-2"
            target="_blank"
          >
            View Document
          </a>

        </div>
        <div class="card-footer bg-light text-muted small text-center">
          <strong>ID:</strong> {{ doc.guest_document_id }}
        </div>
      </div>
    </div>
  </div>
</div>


        <div class="row mt-3">
          <div class="col-md-8">&nbsp;</div>
          <div class="col-md-4 text-end">
            <button class="btn btn-danger btn-sm text-end text-white" value="<< Previous"
              (click)="previous_tab('room')">
              << Previous</button>
                &nbsp;
                <button class="btn btn-danger btn-sm text-end text-white" value="Next >>" (click)="addIdentification()">
                  Next >></button>
          </div>
        </div>

      </div>


      <div class="card-header d-flex justify-content-between align-items-center"
        [ngClass]="{ 'bg-primary text-white': showPaymentInfo }">
        <h4 class="card-title mb-0" [ngClass]="{ 'text-white': showPaymentInfo }">Payment Details</h4>
        <span class="fs-4">{{ showPaymentInfo ? '▲' : '▼' }}</span>
      </div>

      <div class="card-body" *ngIf="showPaymentInfo">
        <div class="card shadow-sm mb-4 p-4" *ngIf="roomBillingSummary?.length">
          <h5 class="mb-4 text-primary fw-bold">Room-wise Charges Summary</h5>

          <!-- Summary Table -->
          <table class="table table-bordered align-middle">
            <thead>
              <tr>
                <th>#</th>
                <th>Room No</th>
                <th>Plan</th>
                <th>Nights</th>
                <th>Price</th>
                <th>GST (%)</th>
                <th>GST Amount</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of roomBillingSummary; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ item.roomNo }}</td>
                <td>{{ item.planName }}</td>
                <td>{{ item.nights }}</td>
                <td>₹ {{ item.basePrice }}</td>
                <td>{{ item.gstPercentage }}%</td>
                <td>₹ {{ item.gstAmount.toFixed(2) }}</td>
                <td>₹ {{ item.total.toFixed(2) }}</td>
              </tr>
            </tbody>
            <tfoot>
              <tr class="fw-bold">
                <td colspan="7" class="text-end">Room Charges Total:</td>
                <td>₹ {{ getRoomChargesTotal().toFixed(2) }}</td>
              </tr>
              <tr class="fw-bold" *ngIf="getServiceChargesTotal() > 0">
                <td colspan="7" class="text-end">Additional Services Total:</td>
                <td>₹ {{ getServiceChargesTotal().toFixed(2) }}</td>
              </tr>
              <tr class="fw-bold table-success">
                <td colspan="7" class="text-end">Final Grand Total (Room + Services):</td>
                <td>₹ {{ getTotalRoomBilling().toFixed(2) }}</td>
              </tr>
            </tfoot>
          </table>

          <!-- Add Service Header -->
          <div class="d-flex justify-content-between align-items-center mt-4 mb-2">
            <h5 class="mb-0 text-secondary fw-bold" *ngIf="serviceEntries.length > 0">Additional Services</h5>
            <button type="button" (click)="add_service()" class="btn btn-outline-success">
              + Add Service
            </button>
          </div>

          <!-- Service Entries -->
          <div *ngFor="let service of serviceEntries; let i = index; let last=last" class="row border rounded p-2 mb-2">
            <div class="col-md-3">
              <label class="form-label fw-semibold">Select Service</label>
              <select class="form-select" [(ngModel)]="service.selectedService" (change)="onServiceChange(i)">
                <option value="">Select Service</option>
                <option *ngFor="let s of serviceList" [ngValue]="s">{{ s.service_name }}</option>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label fw-semibold">Amount (₹)</label>
              <input type="number" class="form-control" [(ngModel)]="service.amount"
                [readonly]="service?.selectedService?.fixed_price === '0'">
            </div>

            <div class="col-md-3">
              <label class="form-label fw-semibold">GST (%)</label>
              <input type="text" class="form-control" [(ngModel)]="service.gst_percent"
                [readonly]="service?.selectedService?.fixed_price === '0'">
            </div>

            <div class="col-md-3 d-flex align-items-end justify-content-between">
              <button class="btn btn-danger btn-sm mt-3" (click)="removeService(i)">
                <i class="bi bi-trash text-white"></i>
              </button>
            </div>
          </div>
        </div>

        <form [formGroup]="payment_form">
          <div class="card shadow-sm mb-4 p-4">
            <h5 class="mb-4 text-primary fw-bold">Payment & Billing Details</h5>

            <div class="row g-3">
              <!-- Payment Type -->
              <div class="col-md-3">
                <label class="form-label">Payment Type</label>
                <select class="form-control" formControlName="payment_type">
                  <option value="">-Select-</option>
                  <option value="BILL TO COMPANY">BILL TO COMPANY</option>
                  <option value="BOOKING.COM">BOOKING.COM</option>
                  <option value="CARD">CARD</option>
                  <option value="CASH">CASH</option>
                  <option value="CREDIT BILL">CREDIT BILL</option>
                  <option value="GOIBIBO">GOIBIBO</option>
                  <option value="MMT">MMT</option>
                  <option value="ONLINE PAYMENT">ONLINE PAYMENT</option>
                  <option value="PAYTM">PAYTM</option>
                  <option value="TRAVEL GURU/YATRA">TRAVEL GURU/YATRA</option>
                  <option value="TREEBO PAYMENT">TREEBO PAYMENT</option>
                </select>
              </div>

              <!-- Currency Type -->
              <div class="col-md-2">
                <label class="form-label">Currency Type</label>
                <select class="form-control" formControlName="currency_type">
                  <option value="INR">INR</option>
                  <option value="Dollar">Dollar</option>
                  <option value="AED">AED</option>
                </select>
              </div>

              <!-- Amount -->
              <div class="col-md-2">
                <label class="form-label">Amount Pay</label>
                <input type="number" class="form-control" formControlName="amount" placeholder="Enter amount"
                  value="{{getTotalRoomBilling().toFixed(2)}}" min="0" step="0.01">
              </div>

              <!-- Amount -->
              <div class="col-md-2">
                <label class="form-label">Amount Due</label>
                <input type="number" class="form-control" formControlName="due_amount" placeholder="Enter Due amount">
              </div>

              <!-- Paid Reference -->
              <div class="col-md-3">
                <label class="form-label">Payment Reference</label>
                <input type="text" class="form-control" formControlName="payment_reference"
                  placeholder="Enter Payment Reference">
              </div>

              <!-- Payment Remarks -->
              <div class="col-md-6">
                <label class="form-label">Payment Remarks</label>
                <textarea class="form-control" formControlName="payment_details" placeholder="Enter Payment Remarks"
                  rows="3"></textarea>
              </div>
            </div>
          </div>
        </form>

        <div class="row">
          <div class="col-md-10">&nbsp;</div>
          <div class="col-md-2 text-end">
            <button class="btn btn-danger btn-sm text-end text-white" value="<< Previous"
              (click)="previous_tab('proof')">
              << Previous</button>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center">
      <button class="btn btn-primary btn-sm" (click)="onSubmit()">Check In</button>
    </div>
  </div>
</div>