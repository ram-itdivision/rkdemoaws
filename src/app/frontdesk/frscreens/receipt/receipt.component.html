<div class="content-body">
  <div class="container py-4">
    <!-- Receipt -->
    <div id="receipt" class="receipt-card card shadow-lg p-5 mx-auto">
      <!-- Header -->
      <div class="text-center mb-4 border-bottom pb-3">
        <h2 class="fw-bold text-dark">My Resorts Darjeeling</h2>
        <p class="text-muted mb-1">Ghoom Monastery Road, Ghoom, Darjeeling</p>
        <span class="badge bg-secondary fs-6 px-3 py-2">Online Payment Receipt</span>
      </div>

      <!-- Receipt Details -->
      <div class="mb-4">
        <h5 class="fw-bold text-primary mb-3">Receipt Details</h5>
        <table class="table table-bordered table-sm">
          <tbody>
            <tr>
              <th>Receipt No.</th>
              <td>{{ payment_info[0]?.receipt_no }}</td>
              <th>Date</th>
              <td>{{ payment_info[0]?.created_at | date: 'dd-MM-yyyy hh:mm a' }}</td>
            </tr>
            <tr>
              <th>Financial Year</th>
              <td>{{ payment_info[0]?.financial_year }}</td>
              <th>Status</th>
              <td><span class="text-success fw-bold">{{ payment_info[0]?.payment_status }}</span></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Guest Info -->
      <div class="mb-4">
        <h5 class="fw-bold text-primary mb-3">Guest Information</h5>
        <table class="table table-bordered table-sm">
          <tbody>
            <tr>
              <th>Guest Name</th>
              <td>{{ payment_info[0]?.guest_name }}</td>
              <th>Mobile No</th>
              <td>{{ payment_info[0]?.guest_mobile }}</td>
            </tr>
            <tr>
              <th>Priority</th>
              <td>{{ payment_info[0]?.guest_priority || 'N/A' }}</td>
              <th>Special Check-In</th>
              <td>{{ payment_info[0]?.special_check_in }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Booking Information -->
      <div class="mb-4">
        <h5 class="fw-bold text-primary mb-3">Booking Information</h5>
        <table class="table table-bordered table-striped table-sm">
          <thead class="table-light">
            <tr>
              <th>S.No</th>
              <th>Room No.</th>
              <th>Room Type</th>
              <th>No. of Nights</th>
              <th>Check-In</th>
              <th>Check-Out</th>
              <th>Amount Paid</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let payment of payment_info; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ payment.room_name }}</td>
              <td>{{ payment.room_category === '1' ? 'Deluxe Room' : 'Standard Room' }}</td>
              <td>{{ payment.number_of_nights }}</td>
              <td>{{ payment.check_in ? (payment.check_in | date: 'dd-MM-yyyy') : '-' }}</td>
              <td>{{ payment.check_out ? (payment.check_out | date: 'dd-MM-yyyy') : '-' }}</td>
              <td class="fw-bold text-success">‚Çπ {{ payment.amount_paid }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Payment Info -->
      <div class="mb-4">
        <h5 class="fw-bold text-primary mb-3">Payment Information</h5>
        <table class="table table-bordered table-sm">
          <tbody>
            <tr>
              <th>Payment Mode</th>
              <td>{{ payment_info[0]?.payment_mode }}</td>
              <th>Reference</th>
              <td>{{ payment_info[0]?.payment_reference }}</td>
            </tr>
            <tr>
              <th>Remarks</th>
              <td colspan="3">{{ payment_info[0]?.remarks }}</td>
            </tr>
            <tr class="table-primary">
              <th>Total Paid</th>
              <th colspan="3" class="fs-5 text-primary fw-bold">‚Çπ {{ getTotalAmountPaid() }}</th>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Footer -->
      <div class="text-center mt-4 border-top pt-3">
        <small class="text-muted d-block">Thank you for choosing our hotel!</small>
        <small class="text-muted">Generated on {{ payment_info[0]?.created_at | date: 'fullDate' }}</small>
      </div>
    </div>
  </div>

  <!-- Print Button -->
  <div class="text-center mt-4 no-print">
    <button (click)="printReceipt()" class="btn btn-success btn-lg">
      üñ®Ô∏è Print Receipt
    </button>
  </div>
</div>

<div class="no-print">
  <!-- navbar / sidebar / buttons etc -->
</div>
